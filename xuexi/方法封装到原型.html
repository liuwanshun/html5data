<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>方法封装到原型</title>
	<style>
		body{
			padding: 0;
			margin: 0;
		}
		#mycanvas{
			display: block;
			margin: 0 auto;
			margin-top: 100px;
			border:solid 1px #ccc;
		}
	</style>
</head>
<body>
<canvas id="mycanvas"></canvas>
<script>
var canvas = document.getElementById("mycanvas");
canvas.width = 800;
canvas.height = 800;
var ctx = canvas.getContext("2d");
CanvasRenderingContext2D.prototype.fillStar = function(r,R,x,y,rot=0){
	this.beginPath();
	for(var i=0;i<5;i++){
		var x1 = Math.cos((18+(i*72)+rot)/180*Math.PI)*R+x;
		var y1 = -Math.sin((18+(i*72)+rot)/180*Math.PI)*R+y;
		var x2 = Math.cos((54+(i*72)+rot)/180*Math.PI)*r+x;
		var y2 = -Math.sin((54+(i*72)+rot)/180*Math.PI)*r+y;
		ctx.lineTo(x1,y1);
		ctx.lineTo(x2,y2);
	};
	this.closePath();
	this.fill();
};
window.onload = function(){
	ctx.fillStyle = "#058";
	ctx.fillStar(150,300,400,400);
};
</script>
</body>
</html>